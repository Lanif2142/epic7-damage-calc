<!DOCTYPE html>
<div class="page-container sticky-bottom">
    <span class="page-body">
        <app-dismissible [content]="'damage_calculator_updates' | translate:'info':languageService.language.value" [color]="DismissibleColorOption.info"></app-dismissible>
        <div class="neat-container full-width">
            <app-slide-input
                [label]="'attack' | translate:'form':languageService.language.value"
                [max]="10000" [min]="200" [default]="2500" (valueChange)="inputChange('attack', $event)"
                [column]="!screenService.largeScreen.value">
            </app-slide-input>
        </div>
        <div class="neat-container full-width" [class.column-2]="!screenService.mediumSmallScreen.value" [class.full-width-number-input]="!screenService.largeScreen.value">
            <div [class.full-width]="screenService.mediumSmallScreen.value">
                <app-slide-input
                    [label]="'attack_imprint' | translate:'form':languageService.language.value"
                    [max]="50" [min]="0" [default]="0" (valueChange)="inputChange('attackImprint', $event)"
                    [column]="!screenService.largeScreen.value" [hint]="'attack_imprint_hint' | translate:'form':languageService.language.value">
                </app-slide-input>
            </div>
            <div [class.full-width]="screenService.mediumSmallScreen.value">
                <app-slide-input
                    [label]="'attack_increase' | translate:'form':languageService.language.value"
                    [max]="20" [min]="0" [default]="0" (valueChange)="inputChange('attackIncreasePercent', $event)"
                    [column]="!screenService.largeScreen.value" [hint]="'attack_increase_hint' | translate:'form':languageService.language.value">
                </app-slide-input>
            </div>
        </div>
        <div class="neat-container full-width">
            <app-slide-input
                [label]="'crit_damage' | translate:'form':languageService.language.value"
                [max]="350" [min]="150" [default]="250" (valueChange)="inputChange('critDamage', $event)"
                [column]="!screenService.largeScreen.value">
            </app-slide-input>
        </div>
        <div class="neat-container full-width">
            <app-slide-input
                [label]="'damage_increase' | translate:'form':languageService.language.value"
                [max]="100" [min]="0" [default]="0" (valueChange)="inputChange('damageIncrease', $event)"
                [column]="!screenService.largeScreen.value" [hint]="'damage_increase_hint' | translate:'form':languageService.language.value">
            </app-slide-input>
        </div>
        <div class="checkbox-holder">
            <!-- TODO: add icons to the checkboxes -->
            <!-- <mat-checkbox class="small-margin-top" (click)="toggleStigmaPolitis()" [checked]="this.stigmaPolitis"> -->
            <mat-checkbox class="small-margin-top" [checked]="inputValues.elementalAdvantage" (change)="inputChange('elementalAdvantage', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/debuffs/stigma-debuff.png">
                    {{'elemental_advantage' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.decreasedAttack" (change)="inputChange('decreasedAttack', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/debuffs/attack-debuff.png">
                    {{'decreased_attack' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.increasedAttack" (change)="inputChange('increasedAttack', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/buffs/attack-buff.png">
                    {{'increased_attack' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.increasedAttackGreat" (change)="inputChange('increasedAttackGreat', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/buffs/greater-attack-buff.png">
                    {{'increased_attack_great' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.increasedCritDamage" (change)="inputChange('increasedCritDamage', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/buffs/critical-hit-damage-buff.png">
                    {{'increased_crit_damage' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.casterVigor" (change)="inputChange('casterVigor', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/buffs/vigor-buff.png">
                    {{'vigor' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <!-- TODO: edit set pngs to have no margin -->
            <mat-checkbox class="small-margin-top" [checked]="inputValues.rageSet" (change)="inputChange('rageSet', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/sets/rage-set.png">
                    {{'rage_set' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="inputValues.penetrationSet" (change)="inputChange('penetrationSet', $event.checked)">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/sets/penetration-set.png">
                    {{'penetration_set' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
            <mat-checkbox class="small-margin-top" [checked]="!!inputValues.torrentSetStack" (change)="inputChange('torrentSetStack', ($event.checked ? 1 : 0))">
                <span class="neat-container">
                    <img class="png-icon medium tiny-margin-right" src="assets/sets/torrent-set.png">
                    {{'torrent_set' | translate:'form':languageService.language.value}}
                </span>
            </mat-checkbox>
        </div>
        <div class="artifact-block header-block">
            <h1>Artifact</h1>
            <div class="neat-container full-width">
                <app-slide-input
                    [label]="'level' | translate:'form':languageService.language.value"
                    [max]="30" [min]="0" [default]="30" (valueChange)="inputChange('artifactLevel', $event)"
                    [column]="!screenService.largeScreen.value">
                </app-slide-input>
            </div>
        </div>
        <div class="target-block header-block">
            <h1>Target</h1>
            <div class="neat-container full-width" [class.column-2]="!screenService.mediumSmallScreen.value" [class.full-width-number-input]="!screenService.largeScreen.value">
                <div [class.full-width]="screenService.mediumSmallScreen.value">
                    <app-slide-input
                        [label]="'defense' | translate:'form':languageService.language.value"
                        [max]="5000" [min]="200" [default]="1000" (valueChange)="inputChange('targetDefense', $event)"
                        [column]="!screenService.largeScreen.value">
                    </app-slide-input>
                </div>
                <div [class.full-width]="screenService.mediumSmallScreen.value">
                    <app-slide-input
                        [label]="'defense_increase' | translate:'form':languageService.language.value"
                        [max]="20" [min]="0" [default]="0" (valueChange)="inputChange('targetDefenseIncrease', $event)"
                        [column]="!screenService.largeScreen.value" [hint]="'defense_increase_hint' | translate:'form':languageService.language.value">
                    </app-slide-input>
                </div>
            </div>
            <div class="neat-container full-width" [class.column-2]="!screenService.mediumSmallScreen.value" [class.full-width-number-input]="!screenService.largeScreen.value">
                <div [class.full-width]="screenService.mediumSmallScreen.value">
                    <app-slide-input
                        [label]="'damage_reduction' | translate:'form':languageService.language.value"
                        [max]="100" [min]="0" [default]="0" (valueChange)="inputChange('damageReduction', $event)"
                        [column]="!screenService.largeScreen.value">
                    </app-slide-input>
                </div>
                <div [class.full-width]="screenService.mediumSmallScreen.value">
                    <app-slide-input
                        [label]="'damage_transfer' | translate:'form':languageService.language.value"
                        [max]="100" [min]="0" [default]="0" (valueChange)="inputChange('damageTransfer', $event)"
                        [column]="!screenService.largeScreen.value">
                    </app-slide-input>
                </div>
            </div>
            <div class="checkbox-holder">
                <!-- <mat-checkbox class="small-margin-top" (click)="toggleStigmaPolitis()" [checked]="this.stigmaPolitis"> -->
                <mat-checkbox class="small-margin-top" [checked]="inputValues.targetDefenseUp" (change)="inputChange('targetDefenseUp', $event.checked)">
                    <span class="neat-container">
                        <img class="png-icon medium tiny-margin-right" src="assets/buffs/defense-buff.png">
                        {{'increased_defense' | translate:'form':languageService.language.value}}
                    </span>
                </mat-checkbox>
                <mat-checkbox class="small-margin-top" [checked]="inputValues.targetVigor" (change)="inputChange('targetVigor', $event.checked)">
                    <span class="neat-container">
                        <img class="png-icon medium tiny-margin-right" src="assets/buffs/vigor-buff.png">
                        {{'vigor' | translate:'form':languageService.language.value}}
                    </span>
                </mat-checkbox>
                <mat-checkbox class="small-margin-top" [checked]="inputValues.targetDefenseDown" (change)="inputChange('targetDefenseDown', $event.checked)">
                    <span class="neat-container">
                        <img class="png-icon medium tiny-margin-right" src="assets/debuffs/defense-debuff.png">
                        {{'decreased_defense' | translate:'form':languageService.language.value}}
                    </span>
                </mat-checkbox>
                <mat-checkbox class="small-margin-top" [checked]="inputValues.targetTargeted" (change)="inputChange('targetTargeted', $event.checked)">
                    <span class="neat-container">
                        <img class="png-icon medium tiny-margin-right" src="assets/debuffs/target-debuff.png">
                        {{'target' | translate:'form':languageService.language.value}}
                    </span>
                </mat-checkbox>
            </div>
        </div>
        <div class="hero-specific-block header-block">
            <h1>Hero Specific</h1>
            <div class="neat-container full-width">
                <app-slide-input
                    [label]="'caster_max_hp' | translate:'form':languageService.language.value"
                    [max]="50000" [min]="1000" [default]="10000" (valueChange)="inputChange('casterMaxHP', $event)"
                    [column]="!screenService.largeScreen.value">
                </app-slide-input>
            </div>
        </div>
        <div class="skill-enhance-block header-block">
            <h1>Skill Enhance</h1>
            <div class="neat-container full-width">
                <app-slide-input
                    [label]="'s1' | translate:'skills':languageService.language.value"
                    [max]="7" [min]="0" [default]="7" (valueChange)="molagoraChange($event)"
                    [column]="!screenService.largeScreen.value">
                </app-slide-input>
            </div>
        </div>
        <div class="damage-block">
            <mat-card class="left">
                <div class="extra-large-text bold-text small-padding-top">
                    {{"damage_title" | translate:'form':languageService.language.value}}
                </div>
                <table class="margin-top" [class.smaller-padding]="screenService.tinyScreen.value" [class.tiny-padding]="screenService.microscopicScreen.value" mat-table [dataSource]="damages">

                    <ng-container matColumnDef="skill">
                      <th mat-header-cell *matHeaderCellDef> {{"skill" | translate:'form':languageService.language.value}} </th>
                      <td mat-cell *matCellDef="let element"> {{element.skill}} </td>
                    </ng-container>

                    <ng-container matColumnDef="crit">
                      <th mat-header-cell *matHeaderCellDef> {{"critical_hit" | translate:'form':languageService.language.value}} </th>
                      <td mat-cell *matCellDef="let element"> {{element.crit}} </td>
                    </ng-container>
                  
                    <ng-container matColumnDef="crush">
                      <th mat-header-cell *matHeaderCellDef> {{"crushing_hit" | translate:'form':languageService.language.value}} </th>
                      <td mat-cell *matCellDef="let element"> {{element.crush}} </td>
                    </ng-container>

                    <ng-container matColumnDef="normal">
                      <th mat-header-cell *matHeaderCellDef> {{"normal_hit" | translate:'form':languageService.language.value}} </th>
                      <td mat-cell *matCellDef="let element"> {{element.normal}} </td>
                    </ng-container>

                    <ng-container matColumnDef="miss">
                        <th mat-header-cell *matHeaderCellDef> {{"miss" | translate:'form':languageService.language.value}} </th>
                        <td mat-cell *matCellDef="let element"> {{element.miss}} </td>
                    </ng-container>
                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table>
            </mat-card>
        </div>
        <div class="credits-block">
            <mat-card class="left">CREDITS</mat-card>
        </div>
    </span>
</div>
